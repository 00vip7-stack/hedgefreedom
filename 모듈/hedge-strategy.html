<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í—¤ì§€ì „ëµ ê´€ë¦¬ - í™˜ë¦¬ìŠ¤í¬ ê´€ë¦¬ ì‹œìŠ¤í…œ</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: "Malgun Gothic", "ë§‘ì€ ê³ ë”•", Dotum, "ë‹ì›€", sans-serif;
            font-size: 12px;
            background: #eef1f6;
            color: #333;
        }
        
        /* ë”ì¡´ ìŠ¤íƒ€ì¼ - ìƒë‹¨ í—¤ë” */
        .header {
            background: #fff;
            border-bottom: 2px solid #4a90e2;
            height: 45px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0 15px;
        }
        
        .header-left {
            display: flex;
            align-items: center;
            gap: 20px;
        }
        
        .logo {
            font-size: 14px;
            font-weight: bold;
            color: #4a90e2;
            padding: 0 10px;
            border-right: 1px solid #ddd;
        }
        
        .system-name {
            font-size: 13px;
            color: #333;
            font-weight: 600;
        }
        
        .header-right {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 11px;
            color: #666;
        }
        
        .user-name {
            font-weight: bold;
            color: #333;
        }
        
        /* ë”ì¡´ ìŠ¤íƒ€ì¼ - ë©”ë‰´ë°” */
        .menu-bar {
            background: #fff;
            border-bottom: 1px solid #ddd;
            height: 35px;
            display: flex;
            align-items: center;
            padding: 0 10px;
        }
        
        .menu-item {
            padding: 8px 15px;
            color: #555;
            cursor: pointer;
            font-size: 12px;
            border-right: 1px solid #e5e5e5;
            background: #fafafa;
            text-decoration: none;
            display: inline-block;
        }
        
        .menu-item:hover {
            background: #f0f0f0;
            color: #333;
        }
        
        .menu-item.active {
            background: #4a90e2;
            color: #fff;
            font-weight: bold;
        }
        
        /* ì‘ì—… ì˜ì—­ */
        .workspace {
            padding: 10px;
        }
        
        .page-title {
            background: #fff;
            padding: 10px 15px;
            margin-bottom: 8px;
            border: 1px solid #ddd;
            font-size: 13px;
            font-weight: bold;
            color: #333;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .breadcrumb {
            font-size: 11px;
            color: #999;
            font-weight: normal;
        }
        
        /* 2ë‹¨ ë ˆì´ì•„ì›ƒ */
        .content-layout {
            display: flex;
            gap: 10px;
        }
        
        .left-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        .right-panel {
            width: 400px;
            display: flex;
            flex-direction: column;
            gap: 8px;
        }
        
        /* íŒ¨ë„ */
        .panel {
            background: #fff;
            border: 1px solid #ddd;
        }
        
        .panel-header {
            background: linear-gradient(to bottom, #f5f7fa 0%, #e8edf2 100%);
            padding: 8px 12px;
            border-bottom: 1px solid #ddd;
            font-size: 12px;
            font-weight: bold;
            color: #333;
        }
        
        .panel-body {
            padding: 15px;
        }
        
        /* ê²€ìƒ‰ ì˜ì—­ */
        .search-area {
            background: #fff;
            border: 1px solid #ddd;
            padding: 12px;
            margin-bottom: 8px;
        }
        
        .search-row {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        
        .search-row:last-child {
            margin-bottom: 0;
        }
        
        .search-label {
            width: 80px;
            background: #f8f8f8;
            border: 1px solid #d5d5d5;
            padding: 5px 8px;
            font-size: 12px;
            font-weight: bold;
            color: #333;
        }
        
        .search-input {
            border: 1px solid #d5d5d5;
            padding: 4px 8px;
            font-size: 12px;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #4a90e2;
        }
        
        select.search-input {
            padding: 5px 8px;
        }
        
        /* ë²„íŠ¼ */
        .btn {
            padding: 5px 12px;
            border: 1px solid #d5d5d5;
            background: #fff;
            cursor: pointer;
            font-size: 12px;
            color: #333;
        }
        
        .btn:hover {
            background: #f5f5f5;
        }
        
        .btn-primary {
            background: #4a90e2;
            color: #fff;
            border-color: #4a90e2;
        }
        
        .btn-primary:hover {
            background: #3a7bc8;
        }
        
        .btn-sm {
            padding: 4px 10px;
            font-size: 12px;
        }
        
        /* íˆ´ë°” */
        .toolbar {
            background: #fff;
            border: 1px solid #ddd;
            border-bottom: none;
            padding: 6px 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .toolbar-left {
            display: flex;
            gap: 5px;
        }
        
        .toolbar-right {
            font-size: 11px;
            color: #666;
        }
        
        /* ê·¸ë¦¬ë“œ */
        .grid-container {
            background: #fff;
            border: 1px solid #ddd;
            overflow: auto;
            max-height: 400px;
        }
        
        .grid {
            width: 100%;
            border-collapse: collapse;
            font-size: 12px;
        }
        
        .grid thead {
            background: #e8edf2;
            position: sticky;
            top: 0;
            z-index: 10;
        }
        
        .grid th {
            border: 1px solid #c5cdd4;
            padding: 6px 8px;
            font-weight: bold;
            color: #333;
            text-align: center;
            background: linear-gradient(to bottom, #f5f7fa 0%, #e8edf2 100%);
        }
        
        .grid td {
            border: 1px solid #e0e0e0;
            padding: 5px 8px;
            background: #fff;
        }
        
        .grid tbody tr:hover {
            background: #fffacd !important;
            cursor: pointer;
        }
        
        .grid tbody tr.selected {
            background: #d6ebff !important;
        }
        
        .grid tbody tr:nth-child(even) {
            background: #fafafa;
        }
        
        .text-center { text-align: center; }
        .text-right { text-align: right; }
        .text-left { text-align: left; }
        
        .amount {
            font-family: "Consolas", "Courier New", monospace;
            text-align: right;
            font-weight: 500;
        }
        
        /* ìƒíƒœ ë±ƒì§€ */
        .status-badge {
            display: inline-block;
            padding: 2px 8px;
            border-radius: 2px;
            font-size: 11px;
            font-weight: bold;
        }
        
        .status-active {
            background: #e6f3ff;
            color: #0066cc;
            border: 1px solid #99ccff;
        }
        
        .status-complete {
            background: #f0f0f0;
            color: #666;
            border: 1px solid #ccc;
        }
        
        .status-pending {
            background: #fff3e0;
            color: #ff6600;
            border: 1px solid #ffcc99;
        }
        
        /* ì²´í¬ë°•ìŠ¤ */
        input[type="checkbox"] {
            width: 14px;
            height: 14px;
            cursor: pointer;
        }
        
        /* í¼ ê·¸ë£¹ */
        .form-group {
            margin-bottom: 12px;
            display: flex;
            align-items: center;
        }
        
        .form-label {
            width: 120px;
            background: #f8f8f8;
            border: 1px solid #d5d5d5;
            padding: 6px 10px;
            font-size: 12px;
            font-weight: bold;
            color: #333;
        }
        
        .form-input {
            flex: 1;
            border: 1px solid #d5d5d5;
            padding: 6px 10px;
            font-size: 12px;
        }
        
        .form-input:focus {
            outline: none;
            border-color: #4a90e2;
        }
        
        .form-input:disabled {
            background: #f5f5f5;
            color: #999;
        }
        
        /* ì¶”ì²œ ë°•ìŠ¤ */
        .recommendation-box {
            background: #e3f2fd;
            border: 1px solid #90caf9;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .recommendation-title {
            font-size: 13px;
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 10px;
        }
        
        .recommendation-item {
            font-size: 12px;
            color: #333;
            margin: 5px 0;
            padding-left: 15px;
        }
        
        /* ì°¨íŠ¸ ì˜ì—­ */
        .chart-area {
            height: 200px;
            background: #f9f9f9;
            border: 1px solid #e0e0e0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 11px;
        }
        
        /* í†µê³„ ì¹´ë“œ */
        .stat-card {
            background: #fff;
            border: 1px solid #ddd;
            padding: 12px;
            margin-bottom: 8px;
        }
        
        .stat-label {
            font-size: 11px;
            color: #666;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 18px;
            font-weight: bold;
            color: #333;
        }
        
        .stat-change {
            font-size: 11px;
            margin-top: 3px;
        }
        
        .stat-up {
            color: #d32f2f;
        }
        
        .stat-down {
            color: #1976d2;
        }
    </style>
</head>
<body>
    <!-- ë”ì¡´ ìŠ¤íƒ€ì¼ í—¤ë” -->
    <div class="header">
        <div class="header-left">
            <div class="logo">HEDGE SYSTEM</div>
            <div class="system-name">í™˜ë¦¬ìŠ¤í¬ í†µí•©ê´€ë¦¬ ì‹œìŠ¤í…œ</div>
        </div>
        <div class="header-right">
            <span class="user-name">í™ê¸¸ë™</span> ë‹˜ |
            <span>ì‚¼ì„±ì „ì</span> |
            <span id="currentTime">2026-01-27 14:30:45</span> |
            <a href="#" style="color: #4a90e2; text-decoration: none;">ë¡œê·¸ì•„ì›ƒ</a>
        </div>
        <div style="display: flex; gap: 18px; align-items: center; margin-left: 40px;">
            <div class="stat-card" style="margin-bottom:0; min-width:110px;">
                <div class="stat-label">USD/KRW</div>
                <div class="stat-value">1,320.50</div>
                <div class="stat-change stat-up">â–² 5.20 (+0.39%)</div>
            </div>
            <div class="stat-card" style="margin-bottom:0; min-width:110px;">
                <div class="stat-label">EUR/KRW</div>
                <div class="stat-value">1,450.30</div>
                <div class="stat-change stat-down">â–¼ 2.10 (-0.14%)</div>
            </div>
            <div class="stat-card" style="margin-bottom:0; min-width:110px;">
                <div class="stat-label">JPY/KRW (100ì—”)</div>
                <div class="stat-value">985.00</div>
                <div class="stat-change stat-up">â–² 3.00 (+0.31%)</div>
            </div>
        </div>
    </div>
    
    <!-- ë”ì¡´ ìŠ¤íƒ€ì¼ ë©”ë‰´ë°” -->
    <div class="menu-bar">
        <a href="index.html#dashboard" class="menu-item">ëŒ€ì‹œë³´ë“œ</a>
        <a href="index.html#trade-input" class="menu-item">ê±°ë˜ê´€ë¦¬</a>
        <a href="index.html#internal-hedge" class="menu-item">ë‚´ë¶€í—¤ì§€</a>
        <a href="index.html#hedge-strategy" class="menu-item active">ì™¸ë¶€í—¤ì§€</a>
        <a href="index.html#profit-analysis" class="menu-item">ì†ìµë¶„ì„</a>
        <a href="index.html#report" class="menu-item">ë¦¬í¬íŠ¸</a>
        <a href="index.html#excel-upload" class="menu-item">ì—‘ì…€ì—…ë¡œë“œ</a>
        <a href="index.html#digital-proof" class="menu-item">ë””ì§€í„¸ë©´ì±…ì¦ëª…ì„œ</a>
        <a href="index.html" class="menu-item">ëª¨ë“ˆí™ˆ</a>
    </div>
    
    <!-- ì‘ì—… ì˜ì—­ -->
    <div class="workspace">
        <div style="margin-top:32px; text-align:right;">
            <button onclick="location.href='profit-analysis.html'" style="background:#1976d2; color:#fff; border:none; border-radius:4px; padding:10px 22px; font-size:14px; cursor:pointer;">ë‹¤ìŒ: ì†ìµë¶„ì„ ëª¨ë“ˆ â†’</button>
        </div>
        <!-- í˜ì´ì§€ íƒ€ì´í‹€ -->
        <div class="page-title">
            <span>í—¤ì§€ì „ëµ ê´€ë¦¬</span>
            <span class="breadcrumb">HOME &gt; í—¤ì§€ì „ëµ &gt; ì „ëµ ê´€ë¦¬</span>
        </div>
        <!-- í—¤ì§€ì „ëµ íƒ­ -->
        <div style="background:#fff; border:1px solid #ddd; border-radius:4px; margin-bottom:12px; display:flex;">
            <div id="tab-internal" class="strategy-tab active" onclick="switchStrategyTab('internal')">ë‚´ë¶€ í—¤ì§€ì „ëµ</div>
            <div id="tab-external" class="strategy-tab" onclick="switchStrategyTab('external')">ì™¸ë¶€ í—¤ì§€ì „ëµ</div>
        </div>
        <style>
            .strategy-tab {
                flex:1;
                padding:12px 0;
                text-align:center;
                font-weight:bold;
                font-size:13px;
                color:#4a90e2;
                cursor:pointer;
                border-bottom:2px solid transparent;
                transition:background 0.2s;
            }
            .strategy-tab.active {
                background:#f5f7fa;
                border-bottom:2px solid #4a90e2;
                color:#333;
            }
        </style>
        
        <!-- ê²€ìƒ‰ ì¡°ê±´ -->
        <div class="search-area">
            <div class="search-row">
                <div class="search-label">ê±°ë˜ë²ˆí˜¸</div>
                <input type="text" class="search-input" placeholder="TR-2026-0001" style="width: 150px;">
                
                <div class="search-label" style="margin-left: 20px;">í†µí™”</div>
                <select class="search-input" style="width: 100px;">
                    <option>ì „ì²´</option>
                    <option>USD</option>
                    <option>EUR</option>
                    <option>JPY</option>
                </select>
                
                <div class="search-label" style="margin-left: 20px;">í—¤ì§€ìƒíƒœ</div>
                <select class="search-input" style="width: 100px;">
                    <option>ì „ì²´</option>
                    <option>ë¯¸í—¤ì§€</option>
                    <option>ë¶€ë¶„í—¤ì§€</option>
                    <option>ì™„ì „í—¤ì§€</option>
                </select>
                
                <button class="btn btn-primary" style="margin-left: 10px;">ì¡°íšŒ</button>
                <button class="btn" style="margin-left: 5px;">ì´ˆê¸°í™”</button>
            </div>
        </div>
        
        <!-- 2ë‹¨ ë ˆì´ì•„ì›ƒ -->
        <div class="content-layout">
            <!-- ì™¼ìª½: ê±°ë˜ ëª©ë¡ -->
            <div class="left-panel">
                <div id="internalStrategySection">
                    <!-- íˆ´ë°” -->
                    <div class="toolbar">
                        <div class="toolbar-left">
                            <button class="btn-sm">í—¤ì§€ë“±ë¡</button>
                            <button class="btn-sm">ìˆ˜ì •</button>
                            <button class="btn-sm">ì‚­ì œ</button>
                            <button class="btn-sm" style="margin-left: 10px;">Excel</button>
                        </div>
                        <div class="toolbar-right">
                            <span>ì´ <strong style="color: #4a90e2;">8</strong>ê±´ | ë¯¸í—¤ì§€ <strong style="color: #d32f2f;">3</strong>ê±´</span>
                        </div>
                    </div>
                    <!-- ê±°ë˜ ëª©ë¡ ê·¸ë¦¬ë“œ -->
                    <div class="grid-container">
                        <table class="grid">
                            <thead>
                                <tr>
                                    <th style="width: 35px;"><input type="checkbox"></th>
                                    <th style="width: 40px;">No</th>
                                    <th style="width: 100px;">ê±°ë˜ë²ˆí˜¸</th>
                                    <th style="width: 80px;">ê±°ë˜ì¼ì</th>
                                    <th style="width: 60px;">í†µí™”</th>
                                    <th style="width: 120px;">ê±°ë˜ê¸ˆì•¡</th>
                                    <th style="width: 100px;">í˜„ì¬í™˜ìœ¨</th>
                                    <th style="width: 80px;">í—¤ì§€ë¹„ìœ¨</th>
                                    <th style="width: 120px;">í—¤ì§€ê¸ˆì•¡</th>
                                    <th style="width: 70px;">ìƒíƒœ</th>
                                </tr>
                            </thead>
                            <tbody id="tradeList">
                                <!-- JavaScriptë¡œ ë Œë”ë§ -->
                            </tbody>
                        </table>
                    </div>
                    <!-- í—¤ì§€ ì „ëµ ìƒì„¸ -->
                    <div class="panel">
                        <div class="panel-header">ë‚´ë¶€ í—¤ì§€ ì „ëµ</div>
                        <div class="panel-body" id="strategyDetail">
                            <div style="text-align: center; padding: 40px; color: #999;">
                                ì¢Œì¸¡ ëª©ë¡ì—ì„œ ê±°ë˜ë¥¼ ì„ íƒí•˜ì„¸ìš”
                            </div>
                        </div>
                    </div>
                </div>
                <div id="externalStrategySection" style="display:none;">
                    <div class="panel">
                        <div class="panel-header">ì™¸ë¶€ í—¤ì§€ ì „ëµ</div>
                        <div class="panel-body">
                            <div style="color:#666; font-size:13px; padding:20px;">
                                ì™¸ë¶€ í—¤ì§€(ì„ ë¬¼í™˜, ì˜µì…˜, ìŠ¤ì™‘ ë“±) ì „ëµì„ ë“±ë¡/ê´€ë¦¬í•˜ëŠ” ì˜ì—­ì…ë‹ˆë‹¤.<br><br>
                                - ì™¸ë¶€ ê¸ˆìœµê¸°ê´€ê³¼ì˜ í—¤ì§€ ê³„ì•½ ë‚´ì—­ ì…ë ¥<br>
                                - í—¤ì§€ë¹„ìœ¨, í—¤ì§€ê¸ˆì•¡, ë§Œê¸°, ìƒí’ˆì¢…ë¥˜, ê³„ì•½ì •ë³´ ê´€ë¦¬<br>
                                - ë§Œê¸°ë³„ ì†ìµ, í—¤ì§€íš¨ê³¼ ë¦¬í¬íŠ¸ ì œê³µ<br><br>
                                <span style="color:#4a90e2; font-weight:bold;">(ì˜ˆì‹œ UI/í¼ì€ ì¶”í›„ ì¶”ê°€)</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- ì˜¤ë¥¸ìª½: ì¦‰ì‹œì‹¤í–‰ê¶Œê³  ì„¹ì…˜ -->
            <div class="right-panel">
                <div class="panel">
                    <div class="panel-header">ì¦‰ì‹œì‹¤í–‰ ê¶Œê³ </div>
                    <div class="panel-body">
                        <div class="recommendation-box">
                            <div class="recommendation-title">ğŸš¨ ì¦‰ì‹œ í—¤ì§€ ì‹¤í–‰ ê¶Œê³ </div>
                            <div class="recommendation-item">â€¢ ë¯¸í—¤ì§€ ê±°ë˜ 3ê±´ (USD 545,000)</div>
                            <div class="recommendation-item">â€¢ í™˜ìœ¨ 3% ìƒìŠ¹ ì‹œ ì˜ˆìƒì†ì‹¤: 21,537,000ì›</div>
                            <div class="recommendation-item">â€¢ AI ê¶Œì¥ í—¤ì§€ë¹„ìœ¨: <strong>65-75%</strong></div>
                            <div class="recommendation-item">â€¢ ìµœê·¼ 30ì¼ ë³€ë™ì„±: <strong>8.5%</strong> (ì¤‘ê°„)</div>
                            <div class="recommendation-item">â€¢ ì¶”ì„¸: ìƒìŠ¹ ì••ë ¥ (ë¯¸ ê¸ˆë¦¬ ì¸ìƒ ì˜í–¥)</div>
                        </div>
                        <div style="margin-top: 15px; padding: 10px; background: #fff3e0; border: 1px solid #ffb74d; border-radius: 4px;">
                            <div style="font-size: 11px; color: #f57c00; font-weight: bold; margin-bottom: 5px;">âš ï¸ ë¦¬ìŠ¤í¬ ì•Œë¦¼</div>
                            <div style="font-size: 11px; color: #333;">
                                ë¯¸í—¤ì§€ ê±°ë˜ê°€ ì¡´ì¬í•©ë‹ˆë‹¤. ì¦‰ì‹œ í—¤ì§€ ì‹¤í–‰ì„ ê¶Œê³ í•©ë‹ˆë‹¤.
                            </div>
                        </div>
                        <div class="panel" style="margin-top:18px;">
                            <div class="panel-header">30ì¼ ë³€ë™ì„± ì¶”ì´</div>
                            <div class="panel-body">
                                <div class="chart-area">
                                    [ì°¨íŠ¸ ì˜ì—­ - Chart.js ì—°ë™ ì˜ˆì •]
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
                // ì „ëµ íƒ­ ì „í™˜
                function switchStrategyTab(tab) {
                    document.getElementById('tab-internal').classList.remove('active');
                    document.getElementById('tab-external').classList.remove('active');
                    document.getElementById('internalStrategySection').style.display = 'none';
                    document.getElementById('externalStrategySection').style.display = 'none';
                    if(tab === 'internal') {
                        document.getElementById('tab-internal').classList.add('active');
                        document.getElementById('internalStrategySection').style.display = '';
                    } else {
                        document.getElementById('tab-external').classList.add('active');
                        document.getElementById('externalStrategySection').style.display = '';
                    }
                }
        // ìƒ˜í”Œ ë°ì´í„°
        const trades = [
            { id: 'TR-2026-0001', date: '2026-01-15', currency: 'USD', amount: 150000, rate: 1320.50, hedgeRatio: 70, hedgeAmount: 105000, status: 'ë¶€ë¶„í—¤ì§€' },
            { id: 'TR-2026-0002', date: '2026-01-16', currency: 'EUR', amount: 80000, rate: 1450.30, hedgeRatio: 85, hedgeAmount: 68000, status: 'ë¶€ë¶„í—¤ì§€' },
            { id: 'TR-2026-0003', date: '2026-01-18', currency: 'USD', amount: 200000, rate: 1320.00, hedgeRatio: 0, hedgeAmount: 0, status: 'ë¯¸í—¤ì§€' },
            { id: 'TR-2026-0004', date: '2026-01-20', currency: 'JPY', amount: 5000000, rate: 9.85, hedgeRatio: 90, hedgeAmount: 4500000, status: 'ë¶€ë¶„í—¤ì§€' },
            { id: 'TR-2026-0005', date: '2026-01-22', currency: 'USD', amount: 120000, rate: 1315.20, hedgeRatio: 100, hedgeAmount: 120000, status: 'ì™„ì „í—¤ì§€' },
            { id: 'TR-2026-0006', date: '2026-01-23', currency: 'EUR', amount: 95000, rate: 1452.00, hedgeRatio: 0, hedgeAmount: 0, status: 'ë¯¸í—¤ì§€' },
            { id: 'TR-2026-0007', date: '2026-01-24', currency: 'USD', amount: 175000, rate: 1322.80, hedgeRatio: 0, hedgeAmount: 0, status: 'ë¯¸í—¤ì§€' },
            { id: 'TR-2026-0008', date: '2026-01-25', currency: 'USD', amount: 210000, rate: 1319.50, hedgeRatio: 65, hedgeAmount: 136500, status: 'ë¶€ë¶„í—¤ì§€' },
        ];

        let selectedTrade = null;

        // ê±°ë˜ ëª©ë¡ ë Œë”ë§
        function renderTradeList() {
            const tbody = document.getElementById('tradeList');
            tbody.innerHTML = trades.map((trade, index) => {
                let statusClass = 'status-active';
                let statusText = trade.status;
                
                if (trade.status === 'ì™„ì „í—¤ì§€') {
                    statusClass = 'status-complete';
                } else if (trade.status === 'ë¯¸í—¤ì§€') {
                    statusClass = 'status-pending';
                }
                
                return `
                    <tr onclick="selectTrade(${index})">
                        <td class="text-center"><input type="checkbox" onclick="event.stopPropagation();"></td>
                        <td class="text-center">${index + 1}</td>
                        <td class="text-center">${trade.id}</td>
                        <td class="text-center">${trade.date}</td>
                        <td class="text-center"><strong>${trade.currency}</strong></td>
                        <td class="amount">${trade.amount.toLocaleString()}</td>
                        <td class="amount">${trade.rate.toFixed(2)}</td>
                        <td class="text-center"><strong style="color: ${trade.hedgeRatio >= 70 ? '#4a90e2' : trade.hedgeRatio > 0 ? '#ff6600' : '#d32f2f'};">${trade.hedgeRatio}%</strong></td>
                        <td class="amount">${trade.hedgeAmount.toLocaleString()}</td>
                        <td class="text-center"><span class="status-badge ${statusClass}">${statusText}</span></td>
                    </tr>
                `;
            }).join('');
        }

        // ê±°ë˜ ì„ íƒ
        function selectTrade(index) {
            selectedTrade = trades[index];
            
            // ì„ íƒ í‘œì‹œ
            document.querySelectorAll('#tradeList tr').forEach((tr, i) => {
                tr.classList.toggle('selected', i === index);
            });
            
            // ìƒì„¸ ì •ë³´ í‘œì‹œ
            showStrategyDetail();
        }

        // ì „ëµ ìƒì„¸ í‘œì‹œ
        function showStrategyDetail() {
            if (!selectedTrade) return;
            
            const detail = document.getElementById('strategyDetail');
            const unhedgedAmount = selectedTrade.amount - selectedTrade.hedgeAmount;
            const recommendedRatio = selectedTrade.currency === 'USD' ? 70 : selectedTrade.currency === 'EUR' ? 75 : 85;
            
            detail.innerHTML = `
                <div class="form-group">
                    <div class="form-label">ê±°ë˜ë²ˆí˜¸</div>
                    <input type="text" class="form-input" value="${selectedTrade.id}" disabled>
                </div>
                
                <div class="form-group">
                    <div class="form-label">ê±°ë˜ê¸ˆì•¡</div>
                    <input type="text" class="form-input" value="${selectedTrade.currency} ${selectedTrade.amount.toLocaleString()}" disabled>
                </div>
                
                <div class="form-group">
                    <div class="form-label">í˜„ì¬í™˜ìœ¨</div>
                    <input type="text" class="form-input" value="${selectedTrade.rate.toFixed(2)} KRW" disabled>
                </div>
                
                <div class="recommendation-box">
                    <div class="recommendation-title">ğŸ“Š AI ì¶”ì²œ í—¤ì§€ ì „ëµ</div>
                    <div class="recommendation-item">â€¢ <strong>ê¶Œì¥ í—¤ì§€ë¹„ìœ¨:</strong> ${recommendedRatio}% (${selectedTrade.currency} ${Math.round(selectedTrade.amount * recommendedRatio / 100).toLocaleString()})</div>
                    <div class="recommendation-item">â€¢ <strong>í˜„ì¬ í—¤ì§€:</strong> ${selectedTrade.hedgeRatio}% (${selectedTrade.currency} ${selectedTrade.hedgeAmount.toLocaleString()})</div>
                    <div class="recommendation-item">â€¢ <strong>ë¯¸í—¤ì§€ ê¸ˆì•¡:</strong> ${selectedTrade.currency} ${unhedgedAmount.toLocaleString()}</div>
                    <div class="recommendation-item">â€¢ <strong>ì¶”ì²œìƒí’ˆ:</strong> ì„ ë¬¼í™˜ ê³„ì•½ (Forward Contract)</div>
                </div>
                
                <div class="form-group">
                    <div class="form-label">í—¤ì§€ë¹„ìœ¨ (%)</div>
                    <input type="number" class="form-input" id="newHedgeRatio" value="${selectedTrade.hedgeRatio}" min="0" max="100" 
                           oninput="updateHedgeCalc()">
                </div>
                
                <div class="form-group">
                    <div class="form-label">í—¤ì§€ê¸ˆì•¡</div>
                    <input type="text" class="form-input" id="newHedgeAmount" value="${selectedTrade.currency} ${selectedTrade.hedgeAmount.toLocaleString()}" disabled>
                </div>
                
                <div class="form-group">
                    <div class="form-label">ì„ ë¬¼í™˜ìœ¨</div>
                    <input type="number" class="form-input" id="forwardRate" value="${(selectedTrade.rate + 5).toFixed(2)}" step="0.01">
                </div>
                
                <div class="form-group">
                    <div class="form-label">ê³„ì•½ì¼ì</div>
                    <input type="date" class="form-input" id="contractDate" value="2026-01-27">
                </div>
                
                <div class="form-group">
                    <div class="form-label">ë¹„ê³ </div>
                    <input type="text" class="form-input" id="hedgeNote" placeholder="ë©”ëª¨ ì…ë ¥">
                </div>
                
                <div style="text-align: right; margin-top: 15px;">
                    <button class="btn">ì·¨ì†Œ</button>
                    <button class="btn btn-primary" onclick="saveHedgeStrategy()" style="margin-left: 5px;">ì €ì¥</button>
                </div>
            `;
        }

        // í—¤ì§€ ê¸ˆì•¡ ê³„ì‚°
        function updateHedgeCalc() {
            if (!selectedTrade) return;
            
            const ratio = document.getElementById('newHedgeRatio').value;
            const hedgeAmount = Math.round(selectedTrade.amount * ratio / 100);
            document.getElementById('newHedgeAmount').value = `${selectedTrade.currency} ${hedgeAmount.toLocaleString()}`;
        }

        // í—¤ì§€ì „ëµ ì €ì¥
        function saveHedgeStrategy() {
            const ratio = document.getElementById('newHedgeRatio').value;
            const forwardRate = document.getElementById('forwardRate').value;
            const contractDate = document.getElementById('contractDate').value;
            
            alert(`í—¤ì§€ì „ëµì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.\n\nê±°ë˜ë²ˆí˜¸: ${selectedTrade.id}\ní—¤ì§€ë¹„ìœ¨: ${ratio}%\nì„ ë¬¼í™˜ìœ¨: ${forwardRate}\nê³„ì•½ì¼: ${contractDate}`);
            
            // ë°ì´í„° ì—…ë°ì´íŠ¸
            selectedTrade.hedgeRatio = parseInt(ratio);
            selectedTrade.hedgeAmount = Math.round(selectedTrade.amount * ratio / 100);
            
            if (selectedTrade.hedgeRatio === 0) {
                selectedTrade.status = 'ë¯¸í—¤ì§€';
            } else if (selectedTrade.hedgeRatio === 100) {
                selectedTrade.status = 'ì™„ì „í—¤ì§€';
            } else {
                selectedTrade.status = 'ë¶€ë¶„í—¤ì§€';
            }
            
            renderTradeList();
        }

        // ì‹œê°„ ì—…ë°ì´íŠ¸
        function updateTime() {
            const now = new Date();
            const timeStr = now.toLocaleString('ko-KR', {
                year: 'numeric',
                month: '2-digit',
                day: '2-digit',
                hour: '2-digit',
                minute: '2-digit',
                second: '2-digit',
                hour12: false
            }).replace(/\. /g, '-').replace('.', '');
            document.getElementById('currentTime').textContent = timeStr;
        }

        // ì´ˆê¸°í™”
        renderTradeList();
        updateTime();
        setInterval(updateTime, 1000);
    </script>
</body>
</html>
